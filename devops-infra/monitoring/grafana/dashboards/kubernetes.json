{
    "annotations": {
        "list": []
    },
    "editable": true,
    "panels": [
        {
            "title": "Node Status (Host Health)",
            "type": "stat",
            "gridPos": {
                "h": 4,
                "w": 24,
                "x": 0,
                "y": 0
            },
            "targets": [
                {
                    "legendFormat": "Node Up",
                    "expr": "up{job='node'}"
                }
            ]
        },
        {
            "title": "Cluster CPU Usage",
            "type": "timeseries",
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 4
            },
            "targets": [
                {
                    "legendFormat": "System Load",
                    "expr": "rate(node_cpu_seconds_total{mode='system'}[5m])"
                },
                {
                    "legendFormat": "User Load",
                    "expr": "rate(node_cpu_seconds_total{mode='user'}[5m])"
                }
            ]
        },
        {
            "title": "Cluster Memory Usage",
            "type": "timeseries",
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 4
            },
            "targets": [
                {
                    "legendFormat": "Memory Used",
                    "expr": "node_memory_MemTotal_bytes - node_memory_MemAvailable_bytes"
                }
            ]
        },
        {
            "title": "Container CPU Usage (Pod Equivalent)",
            "type": "timeseries",
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 12
            },
            "targets": [
                {
                    "legendFormat": "{{name}}",
                    "expr": "sum(rate(container_cpu_usage_seconds_total{name!=''}[5m])) by (name)"
                }
            ]
        },
        {
            "title": "Container Memory Usage",
            "type": "timeseries",
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 12
            },
            "targets": [
                {
                    "legendFormat": "{{name}}",
                    "expr": "sum(container_memory_usage_bytes{name!=''}) by (name)"
                }
            ]
        },
        {
            "title": "Network Traffic (Receive/Transmit)",
            "type": "timeseries",
            "gridPos": {
                "h": 8,
                "w": 24,
                "x": 0,
                "y": 20
            },
            "targets": [
                {
                    "legendFormat": "RX {{name}}",
                    "expr": "sum(rate(container_network_receive_bytes_total{name!=''}[5m])) by (name)"
                },
                {
                    "legendFormat": "TX {{name}}",
                    "expr": "-sum(rate(container_network_transmit_bytes_total{name!=''}[5m])) by (name)"
                }
            ]
        }
    ],
    "title": "Kubernetes Dashboard",
    "uid": "k8s-dash"
}